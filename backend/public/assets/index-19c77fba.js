(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function y(){}function qe(n){return n()}function Le(){return Object.create(null)}function D(n){n.forEach(qe)}function He(n){return typeof n=="function"}function E(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function Ie(n){return Object.keys(n).length===0}function De(n,...e){if(n==null)return y;const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function v(n,e,t){n.$$.on_destroy.push(De(e,t))}function fe(n){return n??""}function A(n,e,t){return n.set(t),e}function a(n,e){n.appendChild(e)}function R(n,e,t){n.insertBefore(e,t||null)}function C(n){n.parentNode&&n.parentNode.removeChild(n)}function ze(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function p(n){return document.createElement(n)}function L(n){return document.createTextNode(n)}function h(){return L(" ")}function Ce(){return L("")}function P(n,e,t,s){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t,s)}function Ge(n){return function(e){return e.preventDefault(),n.call(this,e)}}function g(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Ue(n){return Array.from(n.childNodes)}function z(n,e){e=""+e,n.data!==e&&(n.data=e)}function I(n,e){n.value=e??""}let re;function se(n){re=n}function Ke(){if(!re)throw new Error("Function called outside component initialization");return re}function Fe(n){Ke().$$.on_mount.push(n)}const X=[],ge=[];let te=[];const Se=[],Ye=Promise.resolve();let ve=!1;function Ze(){ve||(ve=!0,Ye.then(We))}function $e(n){te.push(n)}const ye=new Set;let Q=0;function We(){if(Q!==0)return;const n=re;do{try{for(;Q<X.length;){const e=X[Q];Q++,se(e),Qe(e.$$)}}catch(e){throw X.length=0,Q=0,e}for(se(null),X.length=0,Q=0;ge.length;)ge.pop()();for(let e=0;e<te.length;e+=1){const t=te[e];ye.has(t)||(ye.add(t),t())}te.length=0}while(X.length);for(;Se.length;)Se.pop()();ve=!1,ye.clear(),se(n)}function Qe(n){if(n.fragment!==null){n.update(),D(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach($e)}}function Ve(n){const e=[],t=[];te.forEach(s=>n.indexOf(s)===-1?e.push(s):t.push(s)),t.forEach(s=>s()),te=e}const me=new Set;let G;function _e(){G={r:0,c:[],p:G}}function he(){G.r||D(G.c),G=G.p}function b(n,e){n&&n.i&&(me.delete(n),n.i(e))}function w(n,e,t,s){if(n&&n.o){if(me.has(n))return;me.add(n),G.c.push(()=>{me.delete(n),s&&(t&&n.d(1),s())}),n.o(e)}else s&&s()}function S(n){n&&n.c()}function T(n,e,t,s){const{fragment:r,after_update:o}=n.$$;r&&r.m(e,t),s||$e(()=>{const i=n.$$.on_mount.map(qe).filter(He);n.$$.on_destroy?n.$$.on_destroy.push(...i):D(i),n.$$.on_mount=[]}),o.forEach($e)}function M(n,e){const t=n.$$;t.fragment!==null&&(Ve(t.after_update),D(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Xe(n,e){n.$$.dirty[0]===-1&&(X.push(n),Ze(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function O(n,e,t,s,r,o,i,c=[-1]){const l=re;se(n);const u=n.$$={fragment:null,ctx:[],props:o,update:y,not_equal:r,bound:Le(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Le(),dirty:c,skip_bound:!1,root:e.target||l.$$.root};i&&i(u.root);let f=!1;if(u.ctx=t?t(n,e.props||{},(d,m,..._)=>{const N=_.length?_[0]:m;return u.ctx&&r(u.ctx[d],u.ctx[d]=N)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](N),f&&Xe(n,d)),m}):[],u.update(),f=!0,D(u.before_update),u.fragment=s?s(u.ctx):!1,e.target){if(e.hydrate){const d=Ue(e.target);u.fragment&&u.fragment.l(d),d.forEach(C)}else u.fragment&&u.fragment.c();e.intro&&b(n.$$.fragment),T(n,e.target,e.anchor,e.customElement),We()}se(l)}class q{$destroy(){M(this,1),this.$destroy=y}$on(e,t){if(!He(t))return y;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const r=s.indexOf(t);r!==-1&&s.splice(r,1)}}$set(e){this.$$set&&!Ie(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function et(n){let e,t,s,r;return{c(){e=p("div"),t=p("h1"),s=L(n[1]),g(t,"class","svelte-1aoblqe"),g(e,"class",r="flex justify-center content-center Box "+n[0]+" svelte-1aoblqe")},m(o,i){R(o,e,i),a(e,t),a(t,s)},p(o,[i]){i&2&&z(s,o[1]),i&1&&r!==(r="flex justify-center content-center Box "+o[0]+" svelte-1aoblqe")&&g(e,"class",r)},i:y,o:y,d(o){o&&C(e)}}}function tt(n,e,t){let{color:s,letter:r}=e;return n.$$set=o=>{"color"in o&&t(0,s=o.color),"letter"in o&&t(1,r=o.letter)},[s,r]}class ae extends q{constructor(e){super(),O(this,e,tt,et,E,{color:0,letter:1})}}function nt(n){let e,t,s,r,o,i,c,l,u,f;return s=new ae({props:{letter:"W",color:"Blue"}}),o=new ae({props:{letter:"S",color:"Red"}}),c=new ae({props:{letter:"C",color:"Blue"}}),u=new ae({props:{letter:"R",color:"Red"}}),{c(){e=p("nav"),t=p("a"),S(s.$$.fragment),r=h(),S(o.$$.fragment),i=h(),S(c.$$.fragment),l=h(),S(u.$$.fragment),g(t,"class","mx-auto md:mx-0 flex px-1 py-3 w-max"),g(t,"href",n[0]),g(e,"class","Navbar svelte-jwpo53")},m(d,m){R(d,e,m),a(e,t),T(s,t,null),a(t,r),T(o,t,null),a(t,i),T(c,t,null),a(t,l),T(u,t,null),f=!0},p:y,i(d){f||(b(s.$$.fragment,d),b(o.$$.fragment,d),b(c.$$.fragment,d),b(u.$$.fragment,d),f=!0)},o(d){w(s.$$.fragment,d),w(o.$$.fragment,d),w(c.$$.fragment,d),w(u.$$.fragment,d),f=!1},d(d){d&&C(e),M(s),M(o),M(c),M(u)}}}function st(n){return[window.location.origin+window.location.pathname]}class rt extends q{constructor(e){super(),O(this,e,st,nt,E,{})}}const V=[];function K(n,e=y){let t;const s=new Set;function r(c){if(E(n,c)&&(n=c,t)){const l=!V.length;for(const u of s)u[1](),V.push(u,n);if(l){for(let u=0;u<V.length;u+=2)V[u][0](V[u+1]);V.length=0}}}function o(c){r(c(n))}function i(c,l=y){const u=[c,l];return s.add(u),s.size===1&&(t=e(r)||y),c(n),()=>{s.delete(u),s.size===0&&t&&(t(),t=null)}}return{set:r,update:o,subscribe:i}}const de=K(""),pe=K(""),ke=K(!1),F=K([]),U=K(!1),ee=K(null),oe=K(null);function ot(n){return/^[a-zA-Z0-9]{3,16}$/.test(n)}function Ne(n){if(/^\d{4}$/.test(n)){let e=parseInt(n,10);if(e>=0&&e<=9999)return!0}}function we(n,e){return n.length>0&&e.length>0?`Join Room ${n} as ${e}`:n.length>0?`Join Room ${n}`:e.length>0?`Join Room as ${e}`:"Join Room"}function lt(n){let e,t,s,r,o,i,c,l,u,f,d,m,_,N;return{c(){e=p("div"),t=p("form"),s=p("h1"),s.textContent="Join or Create a Room",r=h(),o=p("input"),i=h(),c=p("div"),l=p("input"),u=h(),f=p("button"),f.textContent="Generate New Room",d=h(),m=p("input"),g(s,"id","header"),g(s,"class","mb-3 svelte-44sw79"),g(o,"class","form-control bottom svelte-44sw79"),g(o,"type","text"),g(o,"id","name"),g(o,"size","64"),o.autofocus=!0,g(o,"autocomplete","off"),g(o,"placeholder","Name"),g(l,"class","form-control bottom svelte-44sw79"),g(l,"type","text"),g(l,"id","room"),g(l,"size","64"),g(l,"autocomplete","off"),g(l,"placeholder","Room"),g(f,"type","button"),g(f,"class","btn btn-lg btn-outline top-btn svelte-44sw79"),g(f,"id","generateRoom"),g(c,"id","wrapper"),g(c,"class","svelte-44sw79"),g(m,"class","btn btn-lg btn-outline btm-btn form-control svelte-44sw79"),g(m,"type","submit"),g(m,"id","joinRoom"),g(t,"id","roomForm"),g(t,"class","form-signin svelte-44sw79"),g(e,"id","joiner"),g(e,"class","svelte-44sw79")},m(B,J){R(B,e,J),a(e,t),a(t,s),a(t,r),a(t,o),I(o,n[1]),a(t,i),a(t,c),a(c,l),I(l,n[0]),a(c,u),a(c,f),n[9](f),a(t,d),a(t,m),I(m,n[2]),o.focus(),_||(N=[P(o,"input",n[7]),P(o,"input",n[5]),P(l,"input",n[8]),P(l,"input",n[5]),P(f,"click",n[4]),P(m,"input",n[10]),P(t,"submit",Ge(n[6]))],_=!0)},p(B,[J]){J&2&&o.value!==B[1]&&I(o,B[1]),J&1&&l.value!==B[0]&&I(l,B[0]),J&4&&I(m,B[2])},i:y,o:y,d(B){B&&C(e),n[9](null),_=!1,D(N)}}}function it(n,e,t){let s,r,o;v(n,ke,k=>t(11,s=k)),v(n,pe,k=>t(12,r=k)),v(n,de,k=>t(13,o=k));let c=new URLSearchParams(window.location.search).get("room"),l="",u="",f="Join Room",d;Fe(()=>{c!==null&&Ne(c)&&(t(0,l=c),t(2,f=we(l,u)),t(3,d.disabled=!0,d))});function m(){fetch(window.location.origin+"/generateRoom").then(k=>k.text()).then(k=>{t(0,l=k),t(2,f=we(k,u)),t(3,d.disabled=!0,d)})}function _(k){let H=k.target;H.id==="name"?t(1,u=H.value.replace(/[^a-zA-Z0-9]/g,"").substring(0,13)):H.id==="room"&&t(0,l=H.value.replace(/\D/g,"").substring(0,4)),t(2,f=we(l,u))}function N(){if(!u&&!l)return alert("Please enter a name and room number."),!1;if(u){if(!l)return alert("Please enter a room number."),!1}else return alert("Please enter a name."),!1;if(ot(u)){if(!Ne(l))return alert("Room must be a 4 digit number 0000-9999"),!1}else return alert("Name must be 3-16 characters long and may only consist of letters and numbers."),!1;return A(de,o=u,o),A(pe,r=l,r),A(ke,s=!0,s),!0}function B(){u=this.value,t(1,u)}function J(){l=this.value,t(0,l)}function le(k){ge[k?"unshift":"push"](()=>{d=k,t(3,d)})}function Y(){f=this.value,t(2,f)}return[l,u,f,d,m,_,N,B,J,le,Y]}class ut extends q{constructor(e){super(),O(this,e,it,lt,E,{})}}function ct(n){let e,t,s,r,o,i,c,l,u,f,d;return{c(){e=p("div"),t=p("div"),s=p("div"),r=p("b"),o=L(n[0]),i=h(),c=p("span"),l=L(n[3]),u=h(),f=p("span"),d=L(n[1]),g(c,"class","ToGrey svelte-xmpfuc"),g(s,"class","flex justify-between w-full"),g(f,"class","FmtWord svelte-xmpfuc"),g(t,"class","w-1/2 m-4 LeftMessage text-opacity-100 svelte-xmpfuc"),g(e,"class","flex flex-col justify-between item-start")},m(m,_){R(m,e,_),a(e,t),a(t,s),a(s,r),a(r,o),a(s,i),a(s,c),a(c,l),a(t,u),a(t,f),a(f,d)},p(m,_){_&1&&z(o,m[0]),_&8&&z(l,m[3]),_&2&&z(d,m[1])},d(m){m&&C(e)}}}function ft(n){let e,t,s,r,o,i,c,l,u,f,d;return{c(){e=p("div"),t=p("div"),s=p("div"),r=p("b"),o=L(n[0]),i=h(),c=p("span"),l=L(n[3]),u=h(),f=p("span"),d=L(n[1]),g(c,"class","ToGrey svelte-xmpfuc"),g(s,"class","flex justify-between w-full"),g(f,"class","FmtWord svelte-xmpfuc"),g(t,"class","w-1/2 m-4 RightMessage text-opacity-100 svelte-xmpfuc"),g(e,"class","flex flex-col justify-between items-end")},m(m,_){R(m,e,_),a(e,t),a(t,s),a(s,r),a(r,o),a(s,i),a(s,c),a(c,l),a(t,u),a(t,f),a(f,d)},p(m,_){_&1&&z(o,m[0]),_&8&&z(l,m[3]),_&2&&z(d,m[1])},d(m){m&&C(e)}}}function at(n){let e;function t(o,i){return o[2]?ft:ct}let s=t(n),r=s(n);return{c(){r.c(),e=Ce()},m(o,i){r.m(o,i),R(o,e,i)},p(o,[i]){s===(s=t(o))&&r?r.p(o,i):(r.d(1),r=s(o),r&&(r.c(),r.m(e.parentNode,e)))},i:y,o:y,d(o){r.d(o),o&&C(e)}}}function mt(n,e,t){let{name:s,message:r,fromClient:o,time:i}=e;return n.$$set=c=>{"name"in c&&t(0,s=c.name),"message"in c&&t(1,r=c.message),"fromClient"in c&&t(2,o=c.fromClient),"time"in c&&t(3,i=c.time)},[s,r,o,i]}class gt extends q{constructor(e){super(),O(this,e,mt,at,E,{name:0,message:1,fromClient:2,time:3})}}function dt(n){let e,t,s;return{c(){e=p("div"),t=p("b"),s=L(n[0]),g(t,"class","Announcement svelte-14y7aog"),g(e,"class","flex justify-center")},m(r,o){R(r,e,o),a(e,t),a(t,s)},p(r,[o]){o&1&&z(s,r[0])},i:y,o:y,d(r){r&&C(e)}}}function pt(n,e,t){let{message:s}=e;return n.$$set=r=>{"message"in r&&t(0,s=r.message)},[s]}class _t extends q{constructor(e){super(),O(this,e,pt,dt,E,{message:0})}}function Be(n,e,t){const s=n.slice();return s[5]=e[t],s[7]=t,s}function ht(n){let e,t;return e=new _t({props:{key:n[7],message:n[5].data.message}}),{c(){S(e.$$.fragment)},m(s,r){T(e,s,r),t=!0},p(s,r){const o={};r&2&&(o.message=s[5].data.message),e.$set(o)},i(s){t||(b(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function bt(n){let e,t;return e=new gt({props:{key:n[7],name:n[5].data.name,message:n[5].data.message,fromClient:n[5].data.fromClient,time:n[5].data.time}}),{c(){S(e.$$.fragment)},m(s,r){T(e,s,r),t=!0},p(s,r){const o={};r&2&&(o.name=s[5].data.name),r&2&&(o.message=s[5].data.message),r&2&&(o.fromClient=s[5].data.fromClient),r&2&&(o.time=s[5].data.time),e.$set(o)},i(s){t||(b(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Pe(n){let e,t,s,r;const o=[bt,ht],i=[];function c(l,u){return l[5].type==="message"?0:1}return e=c(n),t=i[e]=o[e](n),{c(){t.c(),s=Ce()},m(l,u){i[e].m(l,u),R(l,s,u),r=!0},p(l,u){let f=e;e=c(l),e===f?i[e].p(l,u):(_e(),w(i[f],1,1,()=>{i[f]=null}),he(),t=i[e],t?t.p(l,u):(t=i[e]=o[e](l),t.c()),b(t,1),t.m(s.parentNode,s))},i(l){r||(b(t),r=!0)},o(l){w(t),r=!1},d(l){i[e].d(l),l&&C(s)}}}function yt(n){let e,t,s,r,o=n[1],i=[];for(let l=0;l<o.length;l+=1)i[l]=Pe(Be(n,o,l));const c=l=>w(i[l],1,1,()=>{i[l]=null});return{c(){e=p("div");for(let l=0;l<i.length;l+=1)i[l].c();g(e,"class","p-3 Log svelte-aocl5y"),g(e,"id","message-log")},m(l,u){R(l,e,u);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(e,null);n[3](e),t=!0,s||(r=P(e,"scroll",n[2]),s=!0)},p(l,[u]){if(u&2){o=l[1];let f;for(f=0;f<o.length;f+=1){const d=Be(l,o,f);i[f]?(i[f].p(d,u),b(i[f],1)):(i[f]=Pe(d),i[f].c(),b(i[f],1),i[f].m(e,null))}for(_e(),f=o.length;f<i.length;f+=1)c(f);he()}},i(l){if(!t){for(let u=0;u<o.length;u+=1)b(i[u]);t=!0}},o(l){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)w(i[u]);t=!1},d(l){l&&C(e),ze(i,l),n[3](null),s=!1,r()}}}function wt(n,e,t){let s,r,o;v(n,U,l=>t(4,s=l)),v(n,oe,l=>t(0,r=l)),v(n,F,l=>t(1,o=l));function i(){let l=r.scrollTop>=r.scrollHeight-r.clientHeight-10;s&&l&&A(U,s=!1,s)}function c(l){ge[l?"unshift":"push"](()=>{r=l,oe.set(r)})}return[r,o,i,c]}class vt extends q{constructor(e){super(),O(this,e,wt,yt,E,{})}}function $t(n){let e,t,s;return{c(){e=p("div"),e.innerHTML='<b class="Alert svelte-1mdzwfm">New Message...</b>',g(e,"class","NMA hover:cursor-pointer svelte-1mdzwfm")},m(r,o){R(r,e,o),t||(s=[P(e,"scroll",n[0]),P(e,"click",n[0])],t=!0)},p:y,i:y,o:y,d(r){r&&C(e),t=!1,D(s)}}}function kt(n,e,t){let s,r;v(n,U,i=>t(1,s=i)),v(n,oe,i=>t(2,r=i));function o(){r.scrollTo(0,r.scrollHeight),A(U,s=!1,s)}return[o]}class Ct extends q{constructor(e){super(),O(this,e,kt,$t,E,{})}}function xt(n){let e,t,s,r,o,i,c;return{c(){e=p("div"),t=p("div"),s=p("textarea"),r=h(),o=p("button"),o.textContent="Send",g(s,"class","TextArea svelte-jup3e6"),g(s,"rows","1"),g(s,"placeholder","Type a message..."),s.autofocus=!0,g(o,"class","Button svelte-jup3e6"),g(t,"class","MessageBox svelte-jup3e6"),g(e,"class","ChatContainer svelte-jup3e6")},m(l,u){R(l,e,u),a(e,t),a(t,s),I(s,n[0]),a(t,r),a(t,o),s.focus(),i||(c=[P(s,"input",n[3]),P(s,"keydown",n[2]),P(o,"click",n[1])],i=!0)},p(l,[u]){u&1&&I(s,l[0])},i:y,o:y,d(l){l&&C(e),i=!1,D(c)}}}function Rt(n,e,t){let s,r,o,i;v(n,oe,m=>t(5,s=m)),v(n,F,m=>t(6,r=m)),v(n,de,m=>t(7,o=m)),v(n,ee,m=>t(8,i=m));let c=0,l="";function u(){if(!i||l.replace(/^]s+/,"").length===0||c>=3){if(c>=3){let N={type:"announcement",data:{name:"server",type:"cooldown",message:"You are on cooldown try again in 5 seconds."}};A(F,r=[...r,N],r),setTimeout(()=>{s.scrollTo(0,s.scrollHeight)},0)}return!1}c++,setTimeout(()=>{c--},5e3),i.send(l);let _={type:"message",data:{name:o,time:new Date().toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),message:l,fromClient:!0}};return A(F,r=[...r,_],r),t(0,l=""),setTimeout(()=>{s.scrollTo(0,s.scrollHeight)},0),!0}function f(m){m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),u())}function d(){l=this.value,t(0,l)}return[l,u,f,d]}class Tt extends q{constructor(e){super(),O(this,e,Rt,xt,E,{})}}function Ee(n){let e,t;return e=new Ct({}),{c(){S(e.$$.fragment)},m(s,r){T(e,s,r),t=!0},i(s){t||(b(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Mt(n){let e,t,s,r,o,i;t=new vt({});let c=n[0]&&Ee();return o=new Tt({}),{c(){e=p("div"),S(t.$$.fragment),s=h(),c&&c.c(),r=h(),S(o.$$.fragment),g(e,"class","w-3/4 relative")},m(l,u){R(l,e,u),T(t,e,null),a(e,s),c&&c.m(e,null),a(e,r),T(o,e,null),i=!0},p(l,[u]){l[0]?c?u&1&&b(c,1):(c=Ee(),c.c(),b(c,1),c.m(e,r)):c&&(_e(),w(c,1,1,()=>{c=null}),he())},i(l){i||(b(t.$$.fragment,l),b(c),b(o.$$.fragment,l),i=!0)},o(l){w(t.$$.fragment,l),w(c),w(o.$$.fragment,l),i=!1},d(l){l&&C(e),M(t),c&&c.d(),M(o)}}}function jt(n,e,t){let s;return v(n,U,r=>t(0,s=r)),[s]}class At extends q{constructor(e){super(),O(this,e,jt,Mt,E,{})}}function Je(n,e,t){const s=n.slice();return s[9]=e[t],s}function Oe(n){let e,t=n[9]+"",s,r;return{c(){e=p("p"),s=L(t),r=h(),g(e,"class","Participant svelte-isfngi")},m(o,i){R(o,e,i),a(e,s),a(e,r)},p(o,i){i&1&&t!==(t=o[9]+"")&&z(s,t)},d(o){o&&C(e)}}}function Lt(n){let e,t,s,r,o,i,c,l,u,f,d,m,_,N,B,J,le,Y,k,H,xe,Re,ie,ue,Te,ne,Me,ce,be,je,Z=n[0],j=[];for(let $=0;$<Z.length;$+=1)j[$]=Oe(Je(n,Z,$));return{c(){e=p("div"),t=p("h3"),t.textContent="Room Information",s=h(),r=p("hr"),o=h(),i=p("p"),c=p("b"),c.textContent="Room Number: ",l=L(n[4]),u=h(),f=p("p"),d=p("b"),d.textContent="Room Count: ",m=L(n[1]),_=h(),N=p("p"),N.innerHTML="<b>Room Participants:</b>",B=h(),J=p("div");for(let $=0;$<j.length;$+=1)j[$].c();le=h(),Y=p("p"),Y.innerHTML="<b>Invite Link:</b>",k=h(),H=p("p"),xe=L(n[5]),Re=h(),ie=p("i"),Te=h(),ne=p("b"),Me=L("Copied"),g(t,"class","text-center font-semibold text-3xl my-4"),g(r,"class","mb-4 border-gray-400"),g(i,"class","svelte-isfngi"),g(f,"class","svelte-isfngi"),g(N,"class","svelte-isfngi"),g(J,"class","Participants svelte-isfngi"),g(Y,"class","mt-3 mb-1 svelte-isfngi"),g(ie,"class",ue=fe(n[2])+" svelte-isfngi"),g(H,"class","mb-0 Link svelte-isfngi"),g(ne,"class",ce=fe(n[3])+" svelte-isfngi"),g(e,"class","w-1/4 SidePanel svelte-isfngi")},m($,W){R($,e,W),a(e,t),a(e,s),a(e,r),a(e,o),a(e,i),a(i,c),a(i,l),a(e,u),a(e,f),a(f,d),a(f,m),a(e,_),a(e,N),a(e,B),a(e,J);for(let x=0;x<j.length;x+=1)j[x]&&j[x].m(J,null);a(e,le),a(e,Y),a(e,k),a(e,H),a(H,xe),a(H,Re),a(H,ie),a(e,Te),a(e,ne),a(ne,Me),be||(je=P(H,"click",n[6]),be=!0)},p($,[W]){if(W&16&&z(l,$[4]),W&2&&z(m,$[1]),W&1){Z=$[0];let x;for(x=0;x<Z.length;x+=1){const Ae=Je($,Z,x);j[x]?j[x].p(Ae,W):(j[x]=Oe(Ae),j[x].c(),j[x].m(J,null))}for(;x<j.length;x+=1)j[x].d(1);j.length=Z.length}W&4&&ue!==(ue=fe($[2])+" svelte-isfngi")&&g(ie,"class",ue),W&8&&ce!==(ce=fe($[3])+" svelte-isfngi")&&g(ne,"class",ce)},i:y,o:y,d($){$&&C(e),ze(j,$),be=!1,je()}}}function St(n,e,t){let s,r;v(n,pe,m=>t(4,s=m)),v(n,F,m=>t(7,r=m));let o=0,i=[],c="fa-regular fa-clipboard Clipboard",l="hidden",u=window.location.host+`/?room=${s}`;function f(){fetch(window.location.origin+`/info/${s}`).then(m=>m.json()).then(m=>{if(m.error==="true"){console.log(m.errorMessage);return}t(1,o=m.roomCount),t(0,i=m.participants)}).catch(m=>console.log(m))}function d(){navigator.clipboard.writeText(window.location.origin+"/?room="+s).then(()=>{t(2,c="fa-solid fa-check Clipboard"),t(3,l="ps-2"),setTimeout(()=>{t(2,c="fa-regular fa-clipboard Clipboard"),t(3,l="hidden")},1e3)}).catch()}return n.$$.update=()=>{if(n.$$.dirty&131){if(r.length===1&&r[r.length-1].data==="join")f();else if(r.length!==0){let m=r[r.length-1];if(m.type==="announcement"){if(m.data.type==="join")t(1,o+=1),t(0,i=[...i,m.data.name]);else if(m.data.type==="leave"){t(1,o-=1);const _=i.indexOf(m.data.name);t(0,i=i.splice(_,1))}}}}},[i,o,c,l,s,u,d,r]}class Nt extends q{constructor(e){super(),O(this,e,St,Lt,E,{})}}function Bt(n){let e,t,s,r,o;return t=new At({}),r=new Nt({}),{c(){e=p("div"),S(t.$$.fragment),s=h(),S(r.$$.fragment),g(e,"class","flex gap-4 Room svelte-47q47q")},m(i,c){R(i,e,c),T(t,e,null),a(e,s),T(r,e,null),o=!0},p:y,i(i){o||(b(t.$$.fragment,i),b(r.$$.fragment,i),o=!0)},o(i){w(t.$$.fragment,i),w(r.$$.fragment,i),o=!1},d(i){i&&C(e),M(t),M(r)}}}function Pt(n,e,t){let s,r,o,i,c,l;v(n,F,f=>t(0,s=f)),v(n,ee,f=>t(1,r=f)),v(n,U,f=>t(2,o=f)),v(n,oe,f=>t(3,i=f)),v(n,pe,f=>t(4,c=f)),v(n,de,f=>t(5,l=f));function u(){if(window.WebSocket)A(ee,r=new WebSocket(`wss://${window.location.host}/ws/${l}/${c}`),r),A(ee,r.onmessage=function(f){let d=JSON.parse(f.data);d.type==="message"&&(d.data.time=new Date().toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),d.data.fromClient=!1);let m=i.scrollHeight===i.scrollTop+i.clientHeight;A(F,s=[...s,d],s),setTimeout(()=>{m?i.scrollTo(0,i.scrollHeight):(console.log("we made it here"),A(U,o=!0,o))},0)},r),A(ee,r.onclose=function(){let f={type:"announcement",data:{type:"close",message:"Connection closed"}};A(F,s=[...s,f],s),A(ee,r=null,r)},r);else{let f={type:"announcement",data:{type:"close",message:"Your browser does not support WebSockets."}};A(F,s=[...s,f],s)}}return Fe(()=>{u()}),[]}class Et extends q{constructor(e){super(),O(this,e,Pt,Bt,E,{})}}function Jt(n){let e,t;return e=new Et({}),{c(){S(e.$$.fragment)},m(s,r){T(e,s,r),t=!0},i(s){t||(b(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Ot(n){let e,t;return e=new ut({}),{c(){S(e.$$.fragment)},m(s,r){T(e,s,r),t=!0},i(s){t||(b(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function qt(n){let e,t,s,r;const o=[Ot,Jt],i=[];function c(l,u){return l[0]?1:0}return e=c(n),t=i[e]=o[e](n),{c(){t.c(),s=Ce()},m(l,u){i[e].m(l,u),R(l,s,u),r=!0},p(l,[u]){let f=e;e=c(l),e!==f&&(_e(),w(i[f],1,1,()=>{i[f]=null}),he(),t=i[e],t||(t=i[e]=o[e](l),t.c()),b(t,1),t.m(s.parentNode,s))},i(l){r||(b(t),r=!0)},o(l){w(t),r=!1},d(l){i[e].d(l),l&&C(s)}}}function Ht(n,e,t){let s;return v(n,ke,r=>t(0,s=r)),[s]}class zt extends q{constructor(e){super(),O(this,e,Ht,qt,E,{})}}function Ft(n){let e,t,s,r;return e=new rt({}),s=new zt({}),{c(){S(e.$$.fragment),t=h(),S(s.$$.fragment)},m(o,i){T(e,o,i),R(o,t,i),T(s,o,i),r=!0},p:y,i(o){r||(b(e.$$.fragment,o),b(s.$$.fragment,o),r=!0)},o(o){w(e.$$.fragment,o),w(s.$$.fragment,o),r=!1},d(o){M(e,o),o&&C(t),M(s,o)}}}class Wt extends q{constructor(e){super(),O(this,e,null,Ft,E,{})}}new Wt({target:document.getElementById("app")});
