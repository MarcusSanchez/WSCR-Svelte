(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function w(){}function We(n,e){for(const t in e)n[t]=e[t];return n}function Je(n){return n()}function Se(){return Object.create(null)}function D(n){n.forEach(Je)}function He(n){return typeof n=="function"}function q(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function De(n){return Object.keys(n).length===0}function Ge(n,...e){if(n==null)return w;const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function $(n,e,t){n.$$.on_destroy.push(Ge(e,t))}function fe(n){return n??""}function N(n,e,t){return n.set(t),e}function a(n,e){n.appendChild(e)}function T(n,e,t){n.insertBefore(e,t||null)}function R(n){n.parentNode&&n.parentNode.removeChild(n)}function ze(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function p(n){return document.createElement(n)}function B(n){return document.createTextNode(n)}function b(){return B(" ")}function ke(){return B("")}function E(n,e,t,s){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t,s)}function Ue(n){return function(e){return e.preventDefault(),n.call(this,e)}}function m(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Ke(n){return Array.from(n.childNodes)}function z(n,e){e=""+e,n.data!==e&&(n.data=e)}function W(n,e){n.value=e??""}let oe;function se(n){oe=n}function Ye(){if(!oe)throw new Error("Function called outside component initialization");return oe}function Ie(n){Ye().$$.on_mount.push(n)}const X=[],de=[];let te=[];const Le=[],Ze=Promise.resolve();let ve=!1;function Qe(){ve||(ve=!0,Ze.then(Fe))}function $e(n){te.push(n)}const ye=new Set;let Q=0;function Fe(){if(Q!==0)return;const n=oe;do{try{for(;Q<X.length;){const e=X[Q];Q++,se(e),Ve(e.$$)}}catch(e){throw X.length=0,Q=0,e}for(se(null),X.length=0,Q=0;de.length;)de.pop()();for(let e=0;e<te.length;e+=1){const t=te[e];ye.has(t)||(ye.add(t),t())}te.length=0}while(X.length);for(;Le.length;)Le.pop()();ve=!1,ye.clear(),se(n)}function Ve(n){if(n.fragment!==null){n.update(),D(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach($e)}}function Xe(n){const e=[],t=[];te.forEach(s=>n.indexOf(s)===-1?e.push(s):t.push(s)),t.forEach(s=>s()),te=e}const me=new Set;let G;function _e(){G={r:0,c:[],p:G}}function he(){G.r||D(G.c),G=G.p}function y(n,e){n&&n.i&&(me.delete(n),n.i(e))}function v(n,e,t,s){if(n&&n.o){if(me.has(n))return;me.add(n),G.c.push(()=>{me.delete(n),s&&(t&&n.d(1),s())}),n.o(e)}else s&&s()}function et(n,e){const t={},s={},r={$$scope:1};let o=n.length;for(;o--;){const i=n[o],c=e[o];if(c){for(const l in i)l in c||(s[l]=1);for(const l in c)r[l]||(t[l]=c[l],r[l]=1);n[o]=c}else for(const l in i)r[l]=1}for(const i in s)i in t||(t[i]=void 0);return t}function tt(n){return typeof n=="object"&&n!==null?n:{}}function P(n){n&&n.c()}function A(n,e,t,s){const{fragment:r,after_update:o}=n.$$;r&&r.m(e,t),s||$e(()=>{const i=n.$$.on_mount.map(Je).filter(He);n.$$.on_destroy?n.$$.on_destroy.push(...i):D(i),n.$$.on_mount=[]}),o.forEach($e)}function M(n,e){const t=n.$$;t.fragment!==null&&(Xe(t.after_update),D(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function nt(n,e){n.$$.dirty[0]===-1&&(X.push(n),Qe(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function O(n,e,t,s,r,o,i,c=[-1]){const l=oe;se(n);const u=n.$$={fragment:null,ctx:[],props:o,update:w,not_equal:r,bound:Se(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Se(),dirty:c,skip_bound:!1,root:e.target||l.$$.root};i&&i(u.root);let f=!1;if(u.ctx=t?t(n,e.props||{},(d,g,..._)=>{const h=_.length?_[0]:g;return u.ctx&&r(u.ctx[d],u.ctx[d]=h)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](h),f&&nt(n,d)),g}):[],u.update(),f=!0,D(u.before_update),u.fragment=s?s(u.ctx):!1,e.target){if(e.hydrate){const d=Ke(e.target);u.fragment&&u.fragment.l(d),d.forEach(R)}else u.fragment&&u.fragment.c();e.intro&&y(n.$$.fragment),A(n,e.target,e.anchor,e.customElement),Fe()}se(l)}class J{$destroy(){M(this,1),this.$destroy=w}$on(e,t){if(!He(t))return w;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const r=s.indexOf(t);r!==-1&&s.splice(r,1)}}$set(e){this.$$set&&!De(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function st(n){let e,t,s,r;return{c(){e=p("div"),t=p("h1"),s=B(n[1]),m(t,"class","svelte-1aoblqe"),m(e,"class",r="flex justify-center content-center Box "+n[0]+" svelte-1aoblqe")},m(o,i){T(o,e,i),a(e,t),a(t,s)},p(o,[i]){i&2&&z(s,o[1]),i&1&&r!==(r="flex justify-center content-center Box "+o[0]+" svelte-1aoblqe")&&m(e,"class",r)},i:w,o:w,d(o){o&&R(e)}}}function ot(n,e,t){let{color:s,letter:r}=e;return n.$$set=o=>{"color"in o&&t(0,s=o.color),"letter"in o&&t(1,r=o.letter)},[s,r]}class ae extends J{constructor(e){super(),O(this,e,ot,st,q,{color:0,letter:1})}}function rt(n){let e,t,s,r,o,i,c,l,u,f;return s=new ae({props:{letter:"W",color:"Blue"}}),o=new ae({props:{letter:"S",color:"Red"}}),c=new ae({props:{letter:"C",color:"Blue"}}),u=new ae({props:{letter:"R",color:"Red"}}),{c(){e=p("nav"),t=p("a"),P(s.$$.fragment),r=b(),P(o.$$.fragment),i=b(),P(c.$$.fragment),l=b(),P(u.$$.fragment),m(t,"class","mx-auto md:mx-0 flex px-1 py-3 w-max"),m(t,"href",n[0]),m(e,"class","Navbar svelte-jwpo53")},m(d,g){T(d,e,g),a(e,t),A(s,t,null),a(t,r),A(o,t,null),a(t,i),A(c,t,null),a(t,l),A(u,t,null),f=!0},p:w,i(d){f||(y(s.$$.fragment,d),y(o.$$.fragment,d),y(c.$$.fragment,d),y(u.$$.fragment,d),f=!0)},o(d){v(s.$$.fragment,d),v(o.$$.fragment,d),v(c.$$.fragment,d),v(u.$$.fragment,d),f=!1},d(d){d&&R(e),M(s),M(o),M(c),M(u)}}}function lt(n){let e=window.location.href.indexOf("?");return[window.location.href.slice(0,e)]}class it extends J{constructor(e){super(),O(this,e,lt,rt,q,{})}}const V=[];function K(n,e=w){let t;const s=new Set;function r(c){if(q(n,c)&&(n=c,t)){const l=!V.length;for(const u of s)u[1](),V.push(u,n);if(l){for(let u=0;u<V.length;u+=2)V[u][0](V[u+1]);V.length=0}}}function o(c){r(c(n))}function i(c,l=w){const u=[c,l];return s.add(u),s.size===1&&(t=e(r)||w),c(n),()=>{s.delete(u),s.size===0&&t&&(t(),t=null)}}return{set:r,update:o,subscribe:i}}const ge=K(""),pe=K(""),xe=K(!1),I=K([]),U=K(!1),ee=K(null),re=K(null);function ct(n){return/^[a-zA-Z0-9]{3,16}$/.test(n)}function Ne(n){if(/^\d{4}$/.test(n)){let e=parseInt(n,10);if(e>=0&&e<=9999)return!0}}function we(n,e){return n.length>0&&e.length>0?`Join Room ${n} as ${e}`:n.length>0?`Join Room ${n}`:e.length>0?`Join Room as ${e}`:"Join Room"}function ut(n){let e,t,s,r,o,i,c,l,u,f,d,g,_,h;return{c(){e=p("div"),t=p("form"),s=p("h1"),s.textContent="Join or Create a Room",r=b(),o=p("input"),i=b(),c=p("div"),l=p("input"),u=b(),f=p("button"),f.textContent="Generate New Room",d=b(),g=p("input"),m(s,"id","header"),m(s,"class","mb-3 svelte-44sw79"),m(o,"class","form-control bottom svelte-44sw79"),m(o,"type","text"),m(o,"id","name"),m(o,"size","64"),o.autofocus=!0,m(o,"autocomplete","off"),m(o,"placeholder","Name"),m(l,"class","form-control bottom svelte-44sw79"),m(l,"type","text"),m(l,"id","room"),m(l,"size","64"),m(l,"autocomplete","off"),m(l,"placeholder","Room"),m(f,"type","button"),m(f,"class","btn btn-lg btn-outline top-btn svelte-44sw79"),m(f,"id","generateRoom"),m(c,"id","wrapper"),m(c,"class","svelte-44sw79"),m(g,"class","btn btn-lg btn-outline btm-btn form-control svelte-44sw79"),m(g,"type","submit"),m(g,"id","joinRoom"),m(t,"id","roomForm"),m(t,"class","form-signin svelte-44sw79"),m(e,"id","joiner"),m(e,"class","svelte-44sw79")},m(x,S){T(x,e,S),a(e,t),a(t,s),a(t,r),a(t,o),W(o,n[1]),a(t,i),a(t,c),a(c,l),W(l,n[0]),a(c,u),a(c,f),n[9](f),a(t,d),a(t,g),W(g,n[2]),o.focus(),_||(h=[E(o,"input",n[7]),E(o,"input",n[5]),E(l,"input",n[8]),E(l,"input",n[5]),E(f,"click",n[4]),E(g,"input",n[10]),E(t,"submit",Ue(n[6]))],_=!0)},p(x,[S]){S&2&&o.value!==x[1]&&W(o,x[1]),S&1&&l.value!==x[0]&&W(l,x[0]),S&4&&W(g,x[2])},i:w,o:w,d(x){x&&R(e),n[9](null),_=!1,D(h)}}}function ft(n,e,t){let s,r,o;$(n,xe,C=>t(11,s=C)),$(n,pe,C=>t(12,r=C)),$(n,ge,C=>t(13,o=C));let c=new URLSearchParams(window.location.search).get("room"),l="",u="",f="Join Room",d;Ie(()=>{c!==null&&Ne(c)&&(t(0,l=c),t(2,f=we(l,u)),t(3,d.disabled=!0,d))});function g(){fetch(window.location.origin+"/generateRoom").then(C=>C.text()).then(C=>{t(0,l=C),t(2,f=we(C,u)),t(3,d.disabled=!0,d)})}function _(C){let H=C.target;H.id==="name"?t(1,u=H.value.replace(/[^a-zA-Z0-9]/g,"").substring(0,13)):H.id==="room"&&t(0,l=H.value.replace(/\D/g,"").substring(0,4)),t(2,f=we(l,u))}function h(){if(!u&&!l)return alert("Please enter a name and room number."),!1;if(u){if(!l)return alert("Please enter a room number."),!1}else return alert("Please enter a name."),!1;if(ct(u)){if(!Ne(l))return alert("Room must be a 4 digit number 0000-9999"),!1}else return alert("Name must be 3-16 characters long and may only consist of letters and numbers."),!1;return N(ge,o=u,o),N(pe,r=l,r),N(xe,s=!0,s),!0}function x(){u=this.value,t(1,u)}function S(){l=this.value,t(0,l)}function le(C){de[C?"unshift":"push"](()=>{d=C,t(3,d)})}function Y(){f=this.value,t(2,f)}return[l,u,f,d,g,_,h,x,S,le,Y]}class at extends J{constructor(e){super(),O(this,e,ft,ut,q,{})}}function mt(n){let e,t,s,r,o,i,c,l,u,f,d;return{c(){e=p("div"),t=p("div"),s=p("div"),r=p("b"),o=B(n[0]),i=b(),c=p("span"),l=B(n[2]),u=b(),f=p("span"),d=B(n[1]),m(c,"class","ToGrey svelte-xmpfuc"),m(s,"class","flex justify-between w-full"),m(f,"class","FmtWord svelte-xmpfuc"),m(t,"class","w-1/2 m-4 LeftMessage text-opacity-100 svelte-xmpfuc"),m(e,"class","flex flex-col justify-between item-start")},m(g,_){T(g,e,_),a(e,t),a(t,s),a(s,r),a(r,o),a(s,i),a(s,c),a(c,l),a(t,u),a(t,f),a(f,d)},p(g,_){_&1&&z(o,g[0]),_&4&&z(l,g[2]),_&2&&z(d,g[1])},d(g){g&&R(e)}}}function dt(n){let e,t,s,r,o,i,c,l,u,f,d;return{c(){e=p("div"),t=p("div"),s=p("div"),r=p("b"),o=B(n[0]),i=b(),c=p("span"),l=B(n[2]),u=b(),f=p("span"),d=B(n[1]),m(c,"class","ToGrey svelte-xmpfuc"),m(s,"class","flex justify-between w-full"),m(f,"class","FmtWord svelte-xmpfuc"),m(t,"class","w-1/2 m-4 RightMessage text-opacity-100 svelte-xmpfuc"),m(e,"class","flex flex-col justify-between items-end")},m(g,_){T(g,e,_),a(e,t),a(t,s),a(s,r),a(r,o),a(s,i),a(s,c),a(c,l),a(t,u),a(t,f),a(f,d)},p(g,_){_&1&&z(o,g[0]),_&4&&z(l,g[2]),_&2&&z(d,g[1])},d(g){g&&R(e)}}}function gt(n){let e;function t(o,i){return o[3]?dt:mt}let s=t(n),r=s(n);return{c(){r.c(),e=ke()},m(o,i){r.m(o,i),T(o,e,i)},p(o,[i]){s===(s=t(o))&&r?r.p(o,i):(r.d(1),r=s(o),r&&(r.c(),r.m(e.parentNode,e)))},i:w,o:w,d(o){r.d(o),o&&R(e)}}}function pt(n,e,t){let{name:s,message:r,time:o,fromClient:i}=e;return n.$$set=c=>{"name"in c&&t(0,s=c.name),"message"in c&&t(1,r=c.message),"time"in c&&t(2,o=c.time),"fromClient"in c&&t(3,i=c.fromClient)},[s,r,o,i]}class _t extends J{constructor(e){super(),O(this,e,pt,gt,q,{name:0,message:1,time:2,fromClient:3})}}function ht(n){let e,t,s;return{c(){e=p("div"),t=p("b"),s=B(n[0]),m(t,"class","Announcement svelte-14y7aog"),m(e,"class","flex justify-center")},m(r,o){T(r,e,o),a(e,t),a(t,s)},p(r,[o]){o&1&&z(s,r[0])},i:w,o:w,d(r){r&&R(e)}}}function bt(n,e,t){let{message:s}=e;return n.$$set=r=>{"message"in r&&t(0,s=r.message)},[s]}class yt extends J{constructor(e){super(),O(this,e,bt,ht,q,{message:0})}}function Be(n,e,t){const s=n.slice();return s[5]=e[t],s}function wt(n){let e,t;return e=new yt({props:{message:n[5].data.message}}),{c(){P(e.$$.fragment)},m(s,r){A(e,s,r),t=!0},p(s,r){const o={};r&2&&(o.message=s[5].data.message),e.$set(o)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function vt(n){let e,t;const s=[n[5].data];let r={};for(let o=0;o<s.length;o+=1)r=We(r,s[o]);return e=new _t({props:r}),{c(){P(e.$$.fragment)},m(o,i){A(e,o,i),t=!0},p(o,i){const c=i&2?et(s,[tt(o[5].data)]):{};e.$set(c)},i(o){t||(y(e.$$.fragment,o),t=!0)},o(o){v(e.$$.fragment,o),t=!1},d(o){M(e,o)}}}function Pe(n){let e,t,s,r;const o=[vt,wt],i=[];function c(l,u){return l[5].type==="message"?0:1}return e=c(n),t=i[e]=o[e](n),{c(){t.c(),s=ke()},m(l,u){i[e].m(l,u),T(l,s,u),r=!0},p(l,u){let f=e;e=c(l),e===f?i[e].p(l,u):(_e(),v(i[f],1,1,()=>{i[f]=null}),he(),t=i[e],t?t.p(l,u):(t=i[e]=o[e](l),t.c()),y(t,1),t.m(s.parentNode,s))},i(l){r||(y(t),r=!0)},o(l){v(t),r=!1},d(l){i[e].d(l),l&&R(s)}}}function $t(n){let e,t,s,r,o=n[1],i=[];for(let l=0;l<o.length;l+=1)i[l]=Pe(Be(n,o,l));const c=l=>v(i[l],1,1,()=>{i[l]=null});return{c(){e=p("div");for(let l=0;l<i.length;l+=1)i[l].c();m(e,"class","p-3 Log svelte-aocl5y"),m(e,"id","message-log")},m(l,u){T(l,e,u);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(e,null);n[3](e),t=!0,s||(r=E(e,"scroll",n[2]),s=!0)},p(l,[u]){if(u&2){o=l[1];let f;for(f=0;f<o.length;f+=1){const d=Be(l,o,f);i[f]?(i[f].p(d,u),y(i[f],1)):(i[f]=Pe(d),i[f].c(),y(i[f],1),i[f].m(e,null))}for(_e(),f=o.length;f<i.length;f+=1)c(f);he()}},i(l){if(!t){for(let u=0;u<o.length;u+=1)y(i[u]);t=!0}},o(l){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)v(i[u]);t=!1},d(l){l&&R(e),ze(i,l),n[3](null),s=!1,r()}}}function xt(n,e,t){let s,r,o;$(n,U,l=>t(4,s=l)),$(n,re,l=>t(0,r=l)),$(n,I,l=>t(1,o=l));function i(){let l=r.scrollTop>=r.scrollHeight-r.clientHeight-10;s&&l&&N(U,s=!1,s)}function c(l){de[l?"unshift":"push"](()=>{r=l,re.set(r)})}return[r,o,i,c]}class kt extends J{constructor(e){super(),O(this,e,xt,$t,q,{})}}function Ct(n){let e,t,s,r;return{c(){e=p("div"),t=p("b"),t.textContent="New Message...",m(t,"class","Alert hover:cursor-pointer svelte-1ynzicq"),m(e,"class","flex justify-center mt-[-40px]")},m(o,i){T(o,e,i),a(e,t),s||(r=[E(t,"click",n[0]),E(e,"scroll",n[0])],s=!0)},p:w,i:w,o:w,d(o){o&&R(e),s=!1,D(r)}}}function Rt(n,e,t){let s,r;$(n,U,i=>t(1,s=i)),$(n,re,i=>t(2,r=i));function o(){r.scrollTo(0,r.scrollHeight),N(U,s=!1,s)}return[o]}class jt extends J{constructor(e){super(),O(this,e,Rt,Ct,q,{})}}function Tt(n){let e,t,s,r,o,i,c;return{c(){e=p("div"),t=p("div"),s=p("textarea"),r=b(),o=p("button"),o.textContent="Send",m(s,"class","TextArea svelte-jup3e6"),m(s,"rows","1"),m(s,"placeholder","Type a message..."),s.autofocus=!0,m(o,"class","Button svelte-jup3e6"),m(t,"class","MessageBox svelte-jup3e6"),m(e,"class","ChatContainer svelte-jup3e6")},m(l,u){T(l,e,u),a(e,t),a(t,s),W(s,n[0]),a(t,r),a(t,o),s.focus(),i||(c=[E(s,"input",n[3]),E(s,"keydown",n[2]),E(o,"click",n[1])],i=!0)},p(l,[u]){u&1&&W(s,l[0])},i:w,o:w,d(l){l&&R(e),i=!1,D(c)}}}function At(n,e,t){let s,r,o,i;$(n,re,g=>t(5,s=g)),$(n,I,g=>t(6,r=g)),$(n,ge,g=>t(7,o=g)),$(n,ee,g=>t(8,i=g));let c=0,l="";function u(){if(!i||l.replace(/^]s+/,"").length===0||c>=3){if(c>=3){let h={type:"announcement",data:{name:"server",type:"cooldown",message:"You are on cooldown try again in 5 seconds."}};N(I,r=[...r,h],r),setTimeout(()=>{s.scrollTo(0,s.scrollHeight)},0)}return!1}c++,setTimeout(()=>{c--},5e3),i.send(l);let _={type:"message",data:{name:o,time:new Date().toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),message:l,fromClient:!0}};return N(I,r=[...r,_],r),t(0,l=""),setTimeout(()=>{s.scrollTo(0,s.scrollHeight)},0),!0}function f(g){g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),u())}function d(){l=this.value,t(0,l)}return[l,u,f,d]}class Mt extends J{constructor(e){super(),O(this,e,At,Tt,q,{})}}function Ee(n){let e,t;return e=new jt({}),{c(){P(e.$$.fragment)},m(s,r){A(e,s,r),t=!0},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function St(n){let e,t,s,r,o,i;t=new kt({});let c=n[0]&&Ee();return o=new Mt({}),{c(){e=p("div"),P(t.$$.fragment),s=b(),c&&c.c(),r=b(),P(o.$$.fragment),m(e,"class","col-span-3 relative")},m(l,u){T(l,e,u),A(t,e,null),a(e,s),c&&c.m(e,null),a(e,r),A(o,e,null),i=!0},p(l,[u]){l[0]?c?u&1&&y(c,1):(c=Ee(),c.c(),y(c,1),c.m(e,r)):c&&(_e(),v(c,1,1,()=>{c=null}),he())},i(l){i||(y(t.$$.fragment,l),y(c),y(o.$$.fragment,l),i=!0)},o(l){v(t.$$.fragment,l),v(c),v(o.$$.fragment,l),i=!1},d(l){l&&R(e),M(t),c&&c.d(),M(o)}}}function Lt(n,e,t){let s;return $(n,U,r=>t(0,s=r)),[s]}class Nt extends J{constructor(e){super(),O(this,e,Lt,St,q,{})}}function qe(n,e,t){const s=n.slice();return s[11]=e[t],s}function Oe(n){let e,t=n[11]+"",s,r;return{c(){e=p("p"),s=B(t),r=b(),m(e,"class","Participant svelte-isfngi")},m(o,i){T(o,e,i),a(e,s),a(e,r)},p(o,i){i&2&&t!==(t=o[11]+"")&&z(s,t)},d(o){o&&R(e)}}}function Bt(n){let e,t,s,r,o,i,c,l,u,f,d,g,_,h,x,S,le,Y,C,H,Ce,Re,ie,ce,je,ne,Te,ue,be,Ae,Z=n[1],L=[];for(let k=0;k<Z.length;k+=1)L[k]=Oe(qe(n,Z,k));return{c(){e=p("div"),t=p("h3"),t.textContent="Room Information",s=b(),r=p("hr"),o=b(),i=p("p"),c=p("b"),c.textContent="Room Number: ",l=B(n[4]),u=b(),f=p("p"),d=p("b"),d.textContent="Room Count: ",g=B(n[0]),_=b(),h=p("p"),h.innerHTML="<b>Room Participants:</b>",x=b(),S=p("div");for(let k=0;k<L.length;k+=1)L[k].c();le=b(),Y=p("p"),Y.innerHTML="<b>Invite Link:</b>",C=b(),H=p("p"),Ce=B(n[5]),Re=b(),ie=p("i"),je=b(),ne=p("b"),Te=B("Copied!"),m(t,"class","text-center font-semibold text-3xl my-4"),m(r,"class","mb-4 border-gray-400"),m(i,"class","svelte-isfngi"),m(f,"class","svelte-isfngi"),m(h,"class","svelte-isfngi"),m(S,"class","Participants svelte-isfngi"),m(Y,"class","mt-3 mb-1 svelte-isfngi"),m(ie,"class",ce=fe(n[2])+" svelte-isfngi"),m(H,"class","mb-0 Link svelte-isfngi"),m(ne,"class",ue=fe(n[3])+" svelte-isfngi"),m(e,"class","col-span-1 SidePanel svelte-isfngi")},m(k,F){T(k,e,F),a(e,t),a(e,s),a(e,r),a(e,o),a(e,i),a(i,c),a(i,l),a(e,u),a(e,f),a(f,d),a(f,g),a(e,_),a(e,h),a(e,x),a(e,S);for(let j=0;j<L.length;j+=1)L[j]&&L[j].m(S,null);a(e,le),a(e,Y),a(e,C),a(e,H),a(H,Ce),a(H,Re),a(H,ie),a(e,je),a(e,ne),a(ne,Te),be||(Ae=E(H,"click",n[6]),be=!0)},p(k,[F]){if(F&16&&z(l,k[4]),F&1&&z(g,k[0]),F&2){Z=k[1];let j;for(j=0;j<Z.length;j+=1){const Me=qe(k,Z,j);L[j]?L[j].p(Me,F):(L[j]=Oe(Me),L[j].c(),L[j].m(S,null))}for(;j<L.length;j+=1)L[j].d(1);L.length=Z.length}F&4&&ce!==(ce=fe(k[2])+" svelte-isfngi")&&m(ie,"class",ce),F&8&&ue!==(ue=fe(k[3])+" svelte-isfngi")&&m(ne,"class",ue)},i:w,o:w,d(k){k&&R(e),ze(L,k),be=!1,Ae()}}}function Pt(n,e,t){let s,r;$(n,I,h=>t(7,s=h)),$(n,pe,h=>t(4,r=h));let o=0,i=[],c="fa-regular fa-clipboard Clipboard",l="hidden",u=window.location.href.indexOf("?"),f=window.location.href.slice(0,u)+`?room=${r}`;function d(){fetch(window.location.origin+`/info/${r}`).then(h=>h.json()).then(h=>{h.error!=="true"&&(t(0,o=h.roomCount),t(1,i=h.participants))}).catch(h=>console.log(h))}function g(h){if(s.length===1&&s[0].data.type==="join"){d();return}let x=s[s.length-1];if(x!==void 0&&x.type==="announcement"){if(x.data.type==="join")t(0,o+=1),t(1,i=[...i,x.data.name]);else if(x.data.type==="leave"){t(0,o-=1);const S=i.indexOf(x.data.name);i.splice(S,1),t(1,i)}}}function _(){navigator.clipboard.writeText(f).then(()=>{t(2,c="fa-solid fa-check Clipboard"),t(3,l="ps-2"),setTimeout(()=>{t(2,c="fa-regular fa-clipboard Clipboard"),t(3,l="hidden")},1e3)}).catch()}return n.$$.update=()=>{n.$$.dirty&128&&g()},[o,i,c,l,r,f,_,s]}class Et extends J{constructor(e){super(),O(this,e,Pt,Bt,q,{})}}function qt(n){let e,t,s,r,o;return t=new Nt({}),r=new Et({}),{c(){e=p("div"),P(t.$$.fragment),s=b(),P(r.$$.fragment),m(e,"class","grid grid-cols-4 gap-5 Room svelte-47q47q")},m(i,c){T(i,e,c),A(t,e,null),a(e,s),A(r,e,null),o=!0},p:w,i(i){o||(y(t.$$.fragment,i),y(r.$$.fragment,i),o=!0)},o(i){v(t.$$.fragment,i),v(r.$$.fragment,i),o=!1},d(i){i&&R(e),M(t),M(r)}}}function Ot(n,e,t){let s,r,o,i,c,l;$(n,I,f=>t(0,s=f)),$(n,ee,f=>t(1,r=f)),$(n,U,f=>t(2,o=f)),$(n,re,f=>t(3,i=f)),$(n,pe,f=>t(4,c=f)),$(n,ge,f=>t(5,l=f));function u(){if(window.WebSocket)N(ee,r=new WebSocket(`wss://${window.location.host}/ws/${l}/${c}`),r),N(ee,r.onmessage=function(f){let d=JSON.parse(f.data);d.type==="message"&&(d.data.time=new Date().toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),d.data.fromClient=!1);let g=i.scrollHeight===i.scrollTop+i.clientHeight;N(I,s=[...s,d],s),setTimeout(()=>{g?i.scrollTo(0,i.scrollHeight):(console.log("we made it here"),N(U,o=!0,o))},0)},r),N(ee,r.onclose=function(){let f={type:"announcement",data:{type:"close",message:"Connection closed"}};N(I,s=[...s,f],s),N(ee,r=null,r)},r);else{let f={type:"announcement",data:{type:"close",message:"Your browser does not support WebSockets."}};N(I,s=[...s,f],s)}}return Ie(()=>{u()}),[]}class Jt extends J{constructor(e){super(),O(this,e,Ot,qt,q,{})}}function Ht(n){let e,t;return e=new Jt({}),{c(){P(e.$$.fragment)},m(s,r){A(e,s,r),t=!0},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function zt(n){let e,t;return e=new at({}),{c(){P(e.$$.fragment)},m(s,r){A(e,s,r),t=!0},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function It(n){let e,t,s,r;const o=[zt,Ht],i=[];function c(l,u){return l[0]?1:0}return e=c(n),t=i[e]=o[e](n),{c(){t.c(),s=ke()},m(l,u){i[e].m(l,u),T(l,s,u),r=!0},p(l,[u]){let f=e;e=c(l),e!==f&&(_e(),v(i[f],1,1,()=>{i[f]=null}),he(),t=i[e],t||(t=i[e]=o[e](l),t.c()),y(t,1),t.m(s.parentNode,s))},i(l){r||(y(t),r=!0)},o(l){v(t),r=!1},d(l){i[e].d(l),l&&R(s)}}}function Ft(n,e,t){let s;return $(n,xe,r=>t(0,s=r)),[s]}class Wt extends J{constructor(e){super(),O(this,e,Ft,It,q,{})}}function Dt(n){let e,t,s,r;return e=new it({}),s=new Wt({}),{c(){P(e.$$.fragment),t=b(),P(s.$$.fragment)},m(o,i){A(e,o,i),T(o,t,i),A(s,o,i),r=!0},p:w,i(o){r||(y(e.$$.fragment,o),y(s.$$.fragment,o),r=!0)},o(o){v(e.$$.fragment,o),v(s.$$.fragment,o),r=!1},d(o){M(e,o),o&&R(t),M(s,o)}}}class Gt extends J{constructor(e){super(),O(this,e,null,Dt,q,{})}}new Gt({target:document.getElementById("app")});
